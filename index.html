<!DOCTYPE html>
<html>
  <head>
    <title>Redirecting...</title>
    <meta charset="UTF-8" />
    <script>
      window.onload = function () {
        const params = new URLSearchParams(window.location.search);
        const code = params.get("code");
        const error = params.get("error");

        setTimeout(() => {
          if (code) {
            window.location.href = `apclubexpo://oauth-callback?code=${code}`;
          } else if (error) {
            window.location.href = `apclubexpo://oauth-callback?error=${error}`;
          } else {
            document.body.innerText = "Missing authentication parameters.";
          }
        }, 1000); // wait 1 second before redirecting
      };
    </script>
  </head>
  <body>
    <p>Redirecting you to the ApClub app...</p>
  </body>
</html>
